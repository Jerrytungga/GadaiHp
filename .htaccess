# Set index.php as default page
DirectoryIndex index.php index.html

# Enable directory browsing (matikan jika tidak perlu)
Options +FollowSymLinks -Indexes

# Enable rewrite engine
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    
    # Redirect www to non-www (opsional, sesuaikan dengan domain Anda)
    # RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
    # RewriteRule ^(.*)$ https://%1/$1 [R=301,L]
</IfModule>

# Security: Protect sensitive files (NOT login/admin pages)
<FilesMatch "^(database\.php|whatsapp_helper\.php|auth_check\.php|composer\.json|composer\.lock|\.env|\.git.*|.*\.log|.*\.sql)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
    </IfModule>
</FilesMatch>

# Allow PHP files (login, admin, setup, etc) - DO NOT BLOCK
<FilesMatch "\.(php|html|css|js|jpg|jpeg|png|gif|ico|pdf)$">
    <IfModule mod_authz_core.c>
        Require all granted
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Allow from all
    </IfModule>
</FilesMatch>

# PHP settings (adjust based on your needs)
<IfModule mod_php7.c>
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value max_input_time 300
</IfModule>
